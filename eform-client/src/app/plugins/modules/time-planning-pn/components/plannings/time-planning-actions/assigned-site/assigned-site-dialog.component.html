<div mat-dialog-title>{{ data.siteName }}</div>
<div mat-dialog-content>
  <mat-tab-group>
    <mat-tab label="{{'General' | translate }}">
    </mat-tab>
    <mat-tab label="{{'Plan hours' | translate }}">
      <div class="d-flex flex-row" *ngFor="let day of ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']">
        <mat-form-field class="p-1">
          <mat-label>{{ day | translate }}</mat-label>
          <input matInput type="text" readonly disabled>
        </mat-form-field>
        <mat-form-field class="p-1">
          <mat-label>{{ 'Plan hours' | translate }}</mat-label>
          <input
            type="number"
            matInput
            [id]="day.toLowerCase() + 'PlanHours'"
            [name]="day.toLowerCase() + 'PlanHours'"
            [(ngModel)]="data[day.toLowerCase() + 'PlanHours']"
          >
        </mat-form-field>
      </div>
    </mat-tab>
    <mat-tab label="{{'1st shift' | translate }}">
      <ng-container *ngIf="selectCurrentUserIsAdmin$ | async">
        <div class="d-flex flex-row" *ngFor="let day of ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']">
          <mat-form-field class="p-1">
            <mat-label>{{ day | translate }}</mat-label>
            <input matInput type="text" readonly disabled>
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'Start at' | translate }}</mat-label>
            <input
              type="text"
              matInput
              mask="00:00"
              placeholder="HH:MM"
              [id]="'start' + day"
              [name]="'start' + day"
              [value]="getConvertedValue(data['start' + day])"
              (change)="setMinutes($event, 'start' + day)">
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'End at' | translate }}</mat-label>
            <input
              type="text"
              matInput
              mask="00:00"
              placeholder="HH:MM"
              [id]="'end' + day"
              [name]="'end' + day"
              [value]="getConvertedValue(data['end' + day])"
              (change)="setMinutes($event, 'end' + day)">
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'Break time' | translate }}</mat-label>
            <input
              type="text"
              matInput
              mask="00:00"
              placeholder="HH:MM"
              [id]="'break' + day"
              [name]="'break' + day"
              [value]="getConvertedValue(data['break' + day])"
              (change)="setMinutes($event, 'break' + day)">
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'Calculated hours' | translate }}</mat-label>
            <input
              type="text"
              matInput
              [id]="day.toLowerCase() + 'CalculatedHours'"
              [name]="day.toLowerCase() + 'CalculatedHours'"
              [(ngModel)]="data[day.toLowerCase() + 'CalculatedHours']"
              readonly disabled>
          </mat-form-field>
        </div>
      </ng-container>
    </mat-tab>
    <mat-tab label="{{'2nd shift' | translate }}">
      <ng-container *ngIf="selectCurrentUserIsAdmin$ | async">
        <div class="d-flex flex-row" *ngFor="let day of ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']">
          <mat-form-field class="p-1">
            <mat-label>{{ day | translate }}</mat-label>
            <input matInput type="text" readonly disabled>
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'Start at' | translate }}</mat-label>
            <input
              type="text"
              matInput
              mask="00:00"
              placeholder="HH:MM"
              [id]="'start' + day + '2NdShift'"
              [name]="'start' + day + '2NdShift'"
              [value]="getConvertedValue(data['start' + day + '2NdShift'])"
              (change)="setMinutes($event, 'start' + day + '2NdShift')">
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'End at' | translate }}</mat-label>
            <input
              type="text"
              matInput
              mask="00:00"
              placeholder="HH:MM"
              [id]="'end' + day + '2NdShift'"
              [name]="'end' + day + '2NdShift'"
              [value]="getConvertedValue(data['end' + day + '2NdShift'])"
              (change)="setMinutes($event, 'end' + day + '2NdShift')">
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'Break time' | translate }}</mat-label>
            <input
              type="text"
              matInput
              mask="00:00"
              placeholder="HH:MM"
              [id]="'break' + day + '2NdShift'"
              [name]="'break' + day + '2NdShift'"
              [value]="getConvertedValue(data['break' + day + '2NdShift'])"
              (change)="setMinutes($event, 'break' + day + '2NdShift')">
          </mat-form-field>
          <mat-form-field class="p-1">
            <mat-label>{{ 'Calculated hours' | translate }}</mat-label>
            <input
              type="text"
              matInput
              [id]="day.toLowerCase() + 'CalculatedHours'"
              [name]="day.toLowerCase() + 'CalculatedHours'"
              [(ngModel)]="data[day.toLowerCase() + 'CalculatedHours']"
              readonly disabled>
          </mat-form-field>
        </div>
      </ng-container>
    </mat-tab>
  </mat-tab-group>
</div>
<div mat-dialog-actions class="d-flex flex-row justify-content-end">
  <button mat-raised-button mat-dialog-close>
    {{ 'Cancel' | translate }}
  </button>
  <button
    mat-raised-button
    color="accent"
    [mat-dialog-close]="data">
    {{ 'Save' | translate }}
  </button>
</div>
