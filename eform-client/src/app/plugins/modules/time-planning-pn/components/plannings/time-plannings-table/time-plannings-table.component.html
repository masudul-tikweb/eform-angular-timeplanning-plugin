<mtx-grid
  id="main-header-text"
  [data]="timePlannings"
  [columns]="tableHeaders"
  [showPaginator]="false"
  [pageOnFront]="false"
  [rowStriped]="false"
  [showToolbar]="false"
>
</mtx-grid>

<ng-template #firstColumnTemplate let-row let-col="colDef">
  <div class="first-column" (click)="onFirstColumnClick(row)">
    <div class="progress-container">
      <ng-container *ngIf="row['avatarUrl'] === null">
        <div class="progress-circle" [style.--percentage]="row['percentageCompleted']">
          <div class="avatar" [style.background-image]="'url(https://www.gravatar.com/avatar/?d=retro&s=32)'"></div>
        </div>
      </ng-container>
      <ng-container *ngIf="row['avatarUrl'] !== null">
        <div class="progress-circle" [style.--percentage]="row['percentageCompleted']">
          <div class="avatar" [style.background-image]="'url(' + row['avatarUrl'] + ')'"></div>
        </div>
      </ng-container>
      <br>
      <div class="hours-info">
        <strong>{{ row[col.field] }}</strong>
        <div *ngIf="row['plannedHours'] !== 0">
          {{ padZero(row['plannedHours']) }}{{'h' | translate}} {{ padZero(row['plannedMinutes']) }}{{'m' | translate}}

          <ng-container *ngIf="row['currentWorkedHours'] !== 0">
            (
            {{ padZero(row['currentWorkedHours']) }}{{'h' | translate}} {{ padZero(row['currentWorkedMinutes']) }}{{'m' | translate}}
            )
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #dayColumnTemplate let-row let-col="colDef">
  <div class="plan-text" (click)="onDayColumnClick(row, col.field)" *ngIf="row.planningPrDayModels[col.field]?.plannedStartOfShift1 === 0"> - </div>
  <div class="plan-text" (click)="onDayColumnClick(row, col.field)" *ngIf="row.planningPrDayModels[col.field]?.plannedStartOfShift1 !== 0"><strong class="{{getCellTextColor(row, col.field)}}">{{ convertMinutesToTime(row.planningPrDayModels[col.field]?.plannedStartOfShift1) }} - {{ convertMinutesToTime(row.planningPrDayModels[col.field]?.plannedEndOfShift1) }} / {{ convertMinutesToTime(row.planningPrDayModels[col.field]?.plannedBreakOfShift1) }}</strong></div>
  <div class="plan-text" (click)="onDayColumnClick(row, col.field)" *ngIf="row.planningPrDayModels[col.field]?.plannedStartOfShift2 !== 0"><strong class="{{getCellTextColor(row, col.field)}}">{{ convertMinutesToTime(row.planningPrDayModels[col.field]?.plannedStartOfShift2) }} - {{ convertMinutesToTime(row.planningPrDayModels[col.field]?.plannedEndOfShift2) }} / {{ convertMinutesToTime(row.planningPrDayModels[col.field]?.plannedBreakOfShift2) }}</strong></div>
<!--  <div class="plan-hours {{getCellTextColor(row, col.field)}}" *ngIf="row.planningPrDayModels[col.field]?.planHours !== 0" (click)="onDayColumnClick(row, col.field)">{{ row.planningPrDayModels[col.field]?.planHours }}</div>-->
  <div class="plan-text {{getCellTextColor(row, col.field)}}" (click)="onDayColumnClick(row, col.field)" *ngIf="row.planningPrDayModels[col.field]?.start1StartedAt !== null">{{ datePipe.transform(row.planningPrDayModels[col.field]?.start1StartedAt, 'HH:mm', 'UTC') }} - {{ datePipe.transform(row.planningPrDayModels[col.field]?.stop1StoppedAt, 'HH:mm', 'UTC') }}</div>
  <div class="plan-text {{getCellTextColor(row, col.field)}}" (click)="onDayColumnClick(row, col.field)" *ngIf="row.planningPrDayModels[col.field]?.isDoubleShift">{{ datePipe.transform(row.planningPrDayModels[col.field]?.start2StartedAt, 'HH:mm', 'UTC') }} - {{ datePipe.transform(row.planningPrDayModels[col.field]?.stop2StoppedAt, 'HH:mm', 'UTC') }}</div>
</ng-template>
